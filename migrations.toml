# This file is auto-generated by Turbosql.
# It is used to create and apply automatic schema migrations.
# It should be checked into source control.
# Modifying it by hand may be dangerous; see the docs.

migrations_append_only = [
  'CREATE TABLE selfid (rowid INTEGER PRIMARY KEY) STRICT',
  'ALTER TABLE selfid ADD COLUMN id BLOB',
  'ALTER TABLE selfid ADD COLUMN ip TEXT',
  'CREATE TABLE node (rowid INTEGER PRIMARY KEY) STRICT',
  'ALTER TABLE node ADD COLUMN host TEXT',
  'ALTER TABLE node ADD COLUMN id BLOB',
  'ALTER TABLE node ADD COLUMN last_ping_attempt_ms INTEGER',
  'ALTER TABLE node ADD COLUMN last_ping_response_ms INTEGER',
  'CREATE TABLE infohash (rowid INTEGER PRIMARY KEY) STRICT',
  'ALTER TABLE infohash ADD COLUMN infohash BLOB',
  'CREATE UNIQUE INDEX host_idx on node(host)',
  'CREATE UNIQUE INDEX infohash_idx on infohash(infohash)',
  'ALTER TABLE node ADD COLUMN last_response_ms INTEGER',
  'ALTER TABLE infohash ADD COLUMN name TEXT',
  'ALTER TABLE infohash ADD COLUMN files TEXT',
]
output_generated_schema_for_your_information_do_not_edit = '''
  CREATE TABLE _turbosql_migrations (
    rowid INTEGER PRIMARY KEY,
    migration TEXT NOT NULL
  ) STRICT
  CREATE TABLE infohash (
    rowid INTEGER PRIMARY KEY,
    infohash BLOB,
    name TEXT,
    files TEXT
  ) STRICT
  CREATE TABLE node (
    rowid INTEGER PRIMARY KEY,
    host TEXT,
    id BLOB,
    last_ping_attempt_ms INTEGER,
    last_ping_response_ms INTEGER,
    last_response_ms INTEGER
  ) STRICT
  CREATE TABLE selfid (
    rowid INTEGER PRIMARY KEY,
    id BLOB,
    ip TEXT
  ) STRICT
'''
[output_generated_tables_do_not_edit.infohash]
name = 'infohash'

[[output_generated_tables_do_not_edit.infohash.columns]]
name = 'rowid'
rust_type = 'Option < i64 >'
sql_type = 'INTEGER PRIMARY KEY'

[[output_generated_tables_do_not_edit.infohash.columns]]
name = 'infohash'
rust_type = 'Option < [u8 ; 20] >'
sql_type = 'BLOB'

[[output_generated_tables_do_not_edit.infohash.columns]]
name = 'name'
rust_type = 'Option < String >'
sql_type = 'TEXT'

[[output_generated_tables_do_not_edit.infohash.columns]]
name = 'files'
rust_type = 'Option < String >'
sql_type = 'TEXT'

[output_generated_tables_do_not_edit.node]
name = 'node'

[[output_generated_tables_do_not_edit.node.columns]]
name = 'rowid'
rust_type = 'Option < i64 >'
sql_type = 'INTEGER PRIMARY KEY'

[[output_generated_tables_do_not_edit.node.columns]]
name = 'host'
rust_type = 'Option < String >'
sql_type = 'TEXT'

[[output_generated_tables_do_not_edit.node.columns]]
name = 'id'
rust_type = 'Option < [u8 ; 20] >'
sql_type = 'BLOB'

[[output_generated_tables_do_not_edit.node.columns]]
name = 'last_response_ms'
rust_type = 'Option < i64 >'
sql_type = 'INTEGER'

[output_generated_tables_do_not_edit.selfid]
name = 'selfid'

[[output_generated_tables_do_not_edit.selfid.columns]]
name = 'rowid'
rust_type = 'Option < i64 >'
sql_type = 'INTEGER PRIMARY KEY'

[[output_generated_tables_do_not_edit.selfid.columns]]
name = 'ip'
rust_type = 'Option < String >'
sql_type = 'TEXT'

[[output_generated_tables_do_not_edit.selfid.columns]]
name = 'id'
rust_type = 'Option < [u8 ; 20] >'
sql_type = 'BLOB'
